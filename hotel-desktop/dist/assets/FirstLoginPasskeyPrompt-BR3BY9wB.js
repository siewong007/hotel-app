import{r as o,h as p,j as s,B as l,T as e,A as g,o as c}from"./index-DnWmqzJF.js";import{D as j,a as b,b as f,c as k}from"./DialogTitle-DKxRfOzX.js";import{F as d}from"./Fingerprint-BskTfpZx.js";const A=({open:x,username:h,onClose:t})=>{const[r,i]=o.useState(!1),[a,n]=o.useState(null),{registerPasskey:u}=p(),m=async()=>{i(!0),n(null);try{await u(h),t()}catch(y){n(y.message||"Failed to register passkey")}finally{i(!1)}};return s.jsxs(j,{open:x,onClose:t,maxWidth:"sm",fullWidth:!0,children:[s.jsx(b,{children:s.jsxs(l,{sx:{display:"flex",alignItems:"center",gap:2},children:[s.jsx(d,{sx:{fontSize:40,color:"primary.main"}}),s.jsx(e,{variant:"h5",component:"span",sx:{fontWeight:600},children:"Secure Your Account with a Passkey"})]})}),s.jsxs(f,{children:[s.jsx(e,{variant:"body1",gutterBottom:!0,sx:{mb:2},children:"Welcome! It looks like this is your first time logging in."}),s.jsx(e,{variant:"body1",gutterBottom:!0,sx:{mb:2},children:"We recommend setting up a passkey for secure, passwordless authentication. Passkeys are:"}),s.jsxs(l,{component:"ul",sx:{pl:3,mb:2},children:[s.jsx("li",{children:s.jsx(e,{variant:"body2",children:"More secure than passwords"})}),s.jsx("li",{children:s.jsx(e,{variant:"body2",children:"Faster and easier to use"})}),s.jsx("li",{children:s.jsx(e,{variant:"body2",children:"Protected by your device's biometrics or PIN"})}),s.jsx("li",{children:s.jsx(e,{variant:"body2",children:"Resistant to phishing attacks"})})]}),s.jsx(e,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"You can add up to 10 passkeys to your account and manage them in your profile settings."}),a&&s.jsx(g,{severity:"error",sx:{mt:2},children:a})]}),s.jsxs(k,{sx:{px:3,pb:2},children:[s.jsx(c,{onClick:t,disabled:r,children:"Skip for Now"}),s.jsx(c,{variant:"contained",onClick:m,disabled:r,startIcon:s.jsx(d,{}),children:r?"Registering...":"Register Passkey"})]})]})};export{A as default};
