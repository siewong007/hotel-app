import{i as y,r as n,j as e,ax as v,p as f,B as d,T as l,A as p,n as m,o as j,C as k,H as C}from"./index-DnWmqzJF.js";const E=()=>{const x=y(),[s,h]=n.useState(""),[i,g]=n.useState(""),[r,u]=n.useState(!1),[c,a]=n.useState(null),b=async t=>{if(t.preventDefault(),!s.trim()||!i.trim()){a("Please enter both booking number and email");return}u(!0),a(null);try{const o=await C.guestPortalVerify({booking_number:s.trim(),email:i.trim()});x(`/guest-checkin/verify?token=${o.token}`)}catch(o){a(o.message||"Failed to verify booking. Please check your details.")}finally{u(!1)}};return e.jsx(v,{maxWidth:"sm",sx:{mt:8},children:e.jsxs(f,{elevation:3,sx:{p:4},children:[e.jsxs(d,{sx:{textAlign:"center",mb:3},children:[e.jsx(l,{variant:"h4",component:"h1",gutterBottom:!0,children:"Online Pre-Check-In"}),e.jsx(l,{variant:"body2",color:"text.secondary",children:"Complete your check-in before arrival"})]}),c&&e.jsx(p,{severity:"error",sx:{mb:3},onClose:()=>a(null),children:c}),e.jsxs("form",{onSubmit:b,children:[e.jsx(m,{fullWidth:!0,label:"Booking Number",value:s,onChange:t=>h(t.target.value),margin:"normal",required:!0,placeholder:"Enter your booking/folio number",disabled:r}),e.jsx(m,{fullWidth:!0,label:"Email Address",type:"email",value:i,onChange:t=>g(t.target.value),margin:"normal",required:!0,placeholder:"Enter your email address",disabled:r}),e.jsx(j,{type:"submit",variant:"contained",fullWidth:!0,size:"large",disabled:r,sx:{mt:3},startIcon:r&&e.jsx(k,{size:20}),children:r?"Verifying...":"Continue"})]}),e.jsx(d,{sx:{mt:3,textAlign:"center"},children:e.jsx(l,{variant:"caption",color:"text.secondary",children:"Pre-check-in is available 7 days before your arrival date"})})]})})};export{E as GuestCheckInLanding,E as default};
