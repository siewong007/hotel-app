import{r as o,h as Y,i as A,j as e,B as d,ax as F,aD as O,p as q,T as u,A as w,n as s,o as y,a5 as z}from"./index-DnWmqzJF.js";import{v as C}from"./validation-C2QFlzQX.js";import{C as S}from"./Collapse-B4NV5VtR.js";import{G as a}from"./Grid-0tqG7FTE.js";const L=()=>{const[r,k]=o.useState({username:"",email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phone:""}),[f,l]=o.useState(""),[h,m]=o.useState(""),[p,g]=o.useState(!1),[b,c]=o.useState(""),[v,W]=o.useState(""),{register:P}=Y(),E=A(),n=t=>{const{name:i,value:x}=t.target;k(T=>({...T,[i]:x})),i==="email"?c(""):i==="phone"&&W("")},j=t=>{t==="email"&&c(C(r.email))},I=()=>{if(!r.username||!r.email||!r.password||!r.confirmPassword)return"All fields are required";const t=C(r.email);return t?(c(t),t):r.password!==r.confirmPassword?"Passwords do not match":r.password.length<6?"Password must be at least 6 characters long":null},N=async t=>{t.preventDefault(),l(""),m("");const i=I();if(i){l(i);return}g(!0);try{await P({username:r.username,email:r.email,password:r.password,first_name:r.firstName,last_name:r.lastName,phone:r.phone}),m("Registration successful! Please check your email to verify your account before logging in.")}catch(x){l(x.message||"Registration failed")}finally{g(!1)}};return e.jsx(d,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#0a0a0a",position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:"-50%",left:"-50%",width:"200%",height:"200%",background:"radial-gradient(circle at 50% 50%, rgba(212, 175, 55, 0.1) 0%, transparent 50%)",animation:"rotate 20s linear infinite"},"@keyframes rotate":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}},children:e.jsx(F,{maxWidth:"sm",sx:{position:"relative",zIndex:1},children:e.jsx(O,{in:!0,timeout:800,children:e.jsxs(q,{elevation:0,sx:{p:{xs:4,sm:6},width:"100%",borderRadius:0,background:"rgba(18, 18, 18, 0.8)",backdropFilter:"blur(20px)",border:"1px solid rgba(212, 175, 55, 0.2)",overflow:"hidden"},children:[e.jsxs(d,{sx:{textAlign:"left",mb:5},children:[e.jsx(u,{variant:"h1",sx:{fontSize:{xs:"3rem",sm:"4rem",md:"5rem"},fontWeight:900,letterSpacing:"-0.02em",lineHeight:.9,color:"#ffffff",mb:1,textTransform:"uppercase",background:"linear-gradient(135deg, #d4af37 0%, #f4d03f 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"HOTEL"}),e.jsx(d,{sx:{width:"60px",height:"4px",background:"linear-gradient(90deg, #d4af37 0%, #f4d03f 100%)",mb:2}}),e.jsx(u,{variant:"h5",sx:{fontWeight:600,letterSpacing:"0.1em",color:"rgba(255, 255, 255, 0.7)",textTransform:"uppercase",fontSize:"0.9rem",mb:1},children:"Salim Inn"}),e.jsx(u,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.5)",fontSize:"0.875rem",letterSpacing:"0.02em"},children:"Create your account to get started"})]}),e.jsx(S,{in:!!f,children:e.jsx(w,{severity:"error",sx:{mb:2},onClose:()=>l(""),children:f})}),e.jsx(S,{in:!!h,children:e.jsx(w,{severity:"success",sx:{mb:2},onClose:()=>m(""),children:h})}),e.jsxs("form",{onSubmit:N,children:[e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:12,children:e.jsx(s,{fullWidth:!0,label:"Username",name:"username",value:r.username,onChange:n,required:!0,autoFocus:!0,sx:{"& .MuiOutlinedInput-root":{transition:"all 0.3s","&:hover":{transform:"translateY(-2px)"}}}})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(s,{fullWidth:!0,label:"Email",name:"email",type:"email",value:r.email,onChange:n,onBlur:()=>j("email"),error:!!b,helperText:b,required:!0,sx:{"& .MuiOutlinedInput-root":{transition:"all 0.3s","&:hover":{transform:"translateY(-2px)"}}}})}),e.jsx(a,{item:!0,xs:6,children:e.jsx(s,{fullWidth:!0,label:"First Name",name:"firstName",value:r.firstName,onChange:n,required:!0,sx:{"& .MuiOutlinedInput-root":{transition:"all 0.3s","&:hover":{transform:"translateY(-2px)"}}}})}),e.jsx(a,{item:!0,xs:6,children:e.jsx(s,{fullWidth:!0,label:"Last Name",name:"lastName",value:r.lastName,onChange:n,required:!0,sx:{"& .MuiOutlinedInput-root":{transition:"all 0.3s","&:hover":{transform:"translateY(-2px)"}}}})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(s,{fullWidth:!0,label:"Phone",name:"phone",value:r.phone,onChange:n,onBlur:()=>j("phone"),error:!!v,helperText:v,sx:{"& .MuiOutlinedInput-root":{transition:"all 0.3s","&:hover":{transform:"translateY(-2px)"}}}})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(s,{fullWidth:!0,label:"Password",name:"password",type:"password",value:r.password,onChange:n,required:!0,sx:{"& .MuiOutlinedInput-root":{transition:"all 0.3s","&:hover":{transform:"translateY(-2px)"}}}})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(s,{fullWidth:!0,label:"Confirm Password",name:"confirmPassword",type:"password",value:r.confirmPassword,onChange:n,required:!0,sx:{"& .MuiOutlinedInput-root":{transition:"all 0.3s","&:hover":{transform:"translateY(-2px)"}}}})})]}),e.jsx(y,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,py:1.5,background:"linear-gradient(135deg, #d4af37 0%, #f4d03f 100%)",color:"#0a0a0a",fontWeight:600,fontSize:"1rem",transition:"all 0.3s","&:hover":{background:"linear-gradient(135deg, #f4d03f 0%, #d4af37 100%)",transform:"translateY(-2px)",boxShadow:"0 8px 16px rgba(212, 175, 55, 0.3)"},"&:active":{transform:"translateY(0)"}},disabled:p,children:p?e.jsx(z,{size:24}):"Create Account"})]}),e.jsx(d,{sx:{mt:3,textAlign:"center"},children:e.jsxs(u,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.6)"},children:["Already have an account?"," ",e.jsx(y,{variant:"text",sx:{p:0,minWidth:"auto",fontSize:"inherit",textTransform:"none",fontWeight:600,color:"#d4af37","&:hover":{background:"transparent",textDecoration:"underline",color:"#f4d03f"}},onClick:()=>E("/login"),children:"Sign in"})]})})]})})})})};export{L as default};
