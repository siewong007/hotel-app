import{h as He,r as i,H as C,j as e,A as v,B as m,C as D,T as o,P as Ve,o as h,n as a,d as j,q as O,I as B,G as R,a6 as $e,t as H}from"./index-DnWmqzJF.js";import{v as qe}from"./validation-C2QFlzQX.js";import{u as Ue}from"./useCurrency-C4JSCWBJ.js";import{S as Ye}from"./Snackbar-BmHWVIFe.js";import{A as Je}from"./Add-C7DSqfba.js";import{G as r}from"./Grid-0tqG7FTE.js";import{C as S,a as k}from"./CardContent-BhQI87uj.js";import{I as Z}from"./InputAdornment-BrN3aL1-.js";import{S as Ke}from"./Search-CErNxQ4Y.js";import{T as Qe,a as ee}from"./ToggleButtonGroup-BQKEPP--.js";import{M as V}from"./Star-BduLiDpP.js";import{N as $}from"./PersonOutline-CU-_kcHt.js";import{T as de,a as me,b as ue,c as q,d as n,e as xe}from"./TableRow-B78mTfEk.js";import{C as G}from"./Chip-CSuofl6d.js";import{E as Xe}from"./Edit-v4qS8plG.js";import{D as Ze}from"./Delete-CC6nSGco.js";import{D as T,a as w,b as N,c as P}from"./DialogTitle-DKxRfOzX.js";import{C as he}from"./Cancel-zFl1_j2m.js";import{S as je}from"./Save-B20zNACZ.js";import"./currency-SgYezy9c.js";const u={member:{label:"Member",color:"#2e7d32",discountLabel:"Member Discount"},non_member:{label:"Non-Member",color:"#757575",discountLabel:"Standard Rate"}},yt=()=>{const{hasRole:U,hasPermission:te}=He(),{format:pe}=Ue(),Y=U("admin")||U("receptionist")||U("manager")||te("guests:read")||te("guests:manage"),[p,ge]=i.useState([]),[be,se]=i.useState([]),[fe,re]=i.useState(!0),[ne,x]=i.useState(null),[g,ye]=i.useState(""),[A,_e]=i.useState("all"),[Ce,M]=i.useState(!1),[ve,z]=i.useState(!1),[Se,E]=i.useState(!1),[We,J]=i.useState(!1),[Ie,K]=i.useState(!1),[b,De]=i.useState(null),[ke,le]=i.useState(!1),[s,l]=i.useState({first_name:"",last_name:"",email:"",phone:"",ic_number:"",nationality:"",address_line1:"",city:"",state_province:"",postal_code:"",country:"",guest_type:"non_member",discount_percentage:0}),[W,ae]=i.useState(null),[I,ie]=i.useState(null),[f,oe]=i.useState(null),[ce,Ge]=i.useState([]),[y,_]=i.useState(!1),[Te,F]=i.useState(!1),[we,Q]=i.useState("");i.useEffect(()=>{Y&&L()},[Y]),i.useEffect(()=>{let t=p.filter(d=>d.full_name.toLowerCase().includes(g.toLowerCase())||d.email&&d.email.toLowerCase().includes(g.toLowerCase())||d.phone&&d.phone.includes(g)||d.ic_number&&d.ic_number.toLowerCase().includes(g.toLowerCase()));A!=="all"&&(t=t.filter(d=>d.guest_type===A));const c=[...t].sort((d,Re)=>d.full_name.localeCompare(Re.full_name));se(c)},[g,p,A]);const L=async()=>{try{re(!0);const t=await C.getAllGuests();ge(t),se(t),x(null)}catch(t){x(t.message||"Failed to load data")}finally{re(!1)}},X=()=>{l({first_name:"",last_name:"",email:"",phone:"",ic_number:"",nationality:"",address_line1:"",city:"",state_province:"",postal_code:"",country:"",guest_type:"non_member",discount_percentage:0})},Ne=()=>{X(),M(!0)},Pe=t=>{ae(t);const[c,...d]=t.full_name.split(" ");l({first_name:c||"",last_name:d.join(" ")||"",email:t.email,phone:t.phone||"",ic_number:t.ic_number||"",nationality:t.nationality||"",address_line1:t.address_line1||"",city:t.city||"",state_province:t.state_province||"",postal_code:t.postal_code||"",country:t.country||"",guest_type:t.guest_type||"non_member",discount_percentage:t.discount_percentage||0}),z(!0)},Ae=t=>{ie(t),E(!0)},Me=async t=>{oe(t);try{const c=await C.getGuestBookings(t.id);Ge(c),J(!0)}catch(c){x(c.message||"Failed to load bookings")}},ze=async t=>{oe(t);try{le(!0);const c=await C.getGuestCredits(t.id);De(c),K(!0)}catch(c){x(c.message||"Failed to load credits")}finally{le(!1)}},Ee=async()=>{if(!s.first_name||!s.last_name){x("Please fill in all required fields (First Name and Last Name)");return}if(s.email&&s.email.trim()){const t=qe(s.email);if(t){x(t);return}}try{_(!0),await C.createGuest(s),Q("Guest created successfully"),F(!0),M(!1),X(),await L()}catch(t){x(t.message||"Failed to create guest")}finally{_(!1)}},Fe=async()=>{if(W)try{_(!0),await C.updateGuest(W.id,s),Q("Guest updated successfully"),F(!0),z(!1),ae(null),X(),await L()}catch(t){x(t.message||"Failed to update guest")}finally{_(!1)}},Le=async()=>{if(I)try{_(!0),await C.deleteGuest(I.id),Q("Guest deleted successfully"),F(!0),E(!1),ie(null),await L()}catch(t){x(t.message||"Failed to delete guest")}finally{_(!1)}};if(!Y)return e.jsx(v,{severity:"warning",children:"You do not have permission to access this page. Contact your administrator for access."});if(fe)return e.jsx(m,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:e.jsx(D,{})});const Oe=p.filter(t=>t.guest_type==="member").length,Be=p.filter(t=>t.guest_type==="non_member"||!t.guest_type).length;return e.jsxs(m,{sx:{p:3},children:[e.jsx(Ye,{open:Te,autoHideDuration:6e3,onClose:()=>F(!1),message:we}),e.jsxs(m,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsxs(m,{children:[e.jsxs(o,{variant:"h4",sx:{fontWeight:700,display:"flex",alignItems:"center",gap:1},children:[e.jsx(Ve,{sx:{fontSize:32}}),"Guest Configuration"]}),e.jsx(o,{variant:"body1",color:"text.secondary",children:"Manage guest records - Create, edit, delete, and view booking history"})]}),e.jsx(h,{variant:"contained",startIcon:e.jsx(Je,{}),onClick:Ne,sx:{borderRadius:2},children:"Add New Guest"})]}),ne&&e.jsx(v,{severity:"error",sx:{mb:2},onClose:()=>x(null),children:ne}),e.jsxs(r,{container:!0,spacing:2,sx:{mb:3},children:[e.jsx(r,{item:!0,xs:6,sm:4,md:3,children:e.jsx(S,{children:e.jsxs(k,{sx:{textAlign:"center",py:2},children:[e.jsx(o,{variant:"h4",sx:{fontWeight:600,color:"primary.main"},children:p.length}),e.jsx(o,{variant:"body2",color:"text.secondary",children:"Total Guests"})]})})}),e.jsx(r,{item:!0,xs:6,sm:4,md:3,children:e.jsx(S,{children:e.jsxs(k,{sx:{textAlign:"center",py:2},children:[e.jsx(o,{variant:"h4",sx:{fontWeight:600,color:u.member.color},children:Oe}),e.jsx(o,{variant:"body2",color:"text.secondary",children:"Members"})]})})}),e.jsx(r,{item:!0,xs:6,sm:4,md:3,children:e.jsx(S,{children:e.jsxs(k,{sx:{textAlign:"center",py:2},children:[e.jsx(o,{variant:"h4",sx:{fontWeight:600,color:u.non_member.color},children:Be}),e.jsx(o,{variant:"body2",color:"text.secondary",children:"Non-Members"})]})})}),e.jsx(r,{item:!0,xs:6,sm:4,md:3,children:e.jsx(S,{children:e.jsxs(k,{sx:{textAlign:"center",py:2},children:[e.jsx(o,{variant:"h4",sx:{fontWeight:600,color:"info.main"},children:p.filter(t=>t.ic_number).length}),e.jsx(o,{variant:"body2",color:"text.secondary",children:"With IC"})]})})})]}),e.jsx(S,{sx:{mb:2},children:e.jsx(k,{children:e.jsxs(m,{sx:{display:"flex",gap:2,flexWrap:"wrap",alignItems:"center"},children:[e.jsx(a,{placeholder:"Search by name, email, phone, or IC number...",value:g,onChange:t=>ye(t.target.value),InputProps:{startAdornment:e.jsx(Z,{position:"start",children:e.jsx(Ke,{})})},sx:{flex:1,minWidth:250}}),e.jsxs(Qe,{value:A,exclusive:!0,onChange:(t,c)=>c&&_e(c),size:"small",children:[e.jsx(ee,{value:"all",children:"All"}),e.jsxs(ee,{value:"member",sx:{"&.Mui-selected":{backgroundColor:j(u.member.color,.15),color:u.member.color,"&:hover":{backgroundColor:j(u.member.color,.25)}}},children:[e.jsx(V,{sx:{mr:.5,fontSize:18}}),"Members"]}),e.jsxs(ee,{value:"non_member",sx:{"&.Mui-selected":{backgroundColor:j(u.non_member.color,.15),color:u.non_member.color,"&:hover":{backgroundColor:j(u.non_member.color,.25)}}},children:[e.jsx($,{sx:{mr:.5,fontSize:18}}),"Non-Members"]})]})]})})}),e.jsx(S,{children:e.jsx(de,{children:e.jsxs(me,{children:[e.jsx(ue,{children:e.jsxs(q,{children:[e.jsx(n,{children:"Name"}),e.jsx(n,{children:"Type"}),e.jsx(n,{children:"Email"}),e.jsx(n,{children:"Phone"}),e.jsx(n,{children:"IC Number"}),e.jsx(n,{children:"Discount"}),e.jsx(n,{children:"Free Gift Credits"}),e.jsx(n,{align:"right",children:"Actions"})]})}),e.jsx(xe,{children:be.map(t=>e.jsxs(q,{children:[e.jsx(n,{children:e.jsx(o,{variant:"body2",sx:{fontWeight:600},children:t.full_name})}),e.jsx(n,{children:(()=>{const c=t.guest_type||"non_member",d=u[c];return e.jsx(G,{icon:c==="member"?e.jsx(V,{sx:{fontSize:16}}):e.jsx($,{sx:{fontSize:16}}),label:d.label,size:"small",sx:{backgroundColor:j(d.color,.1),color:d.color,fontWeight:500,"& .MuiChip-icon":{color:"inherit"}}})})()}),e.jsx(n,{children:t.email||"-"}),e.jsx(n,{children:t.phone||"-"}),e.jsx(n,{children:t.ic_number||"-"}),e.jsx(n,{children:t.discount_percentage&&t.discount_percentage>0?e.jsx(G,{label:`${t.discount_percentage}% off`,size:"small",color:"success",variant:"outlined"}):e.jsx(o,{variant:"body2",color:"text.disabled",children:"-"})}),e.jsx(n,{children:e.jsx(O,{title:"View credits",children:e.jsx(B,{size:"small",onClick:()=>ze(t),color:"secondary",children:e.jsx(R,{})})})}),e.jsxs(n,{align:"right",children:[e.jsx(O,{title:"View Bookings",children:e.jsx(B,{size:"small",onClick:()=>Me(t),color:"info",children:e.jsx($e,{})})}),e.jsx(O,{title:"Edit",children:e.jsx(B,{size:"small",onClick:()=>Pe(t),color:"primary",children:e.jsx(Xe,{})})}),e.jsx(O,{title:"Delete",children:e.jsx(B,{size:"small",onClick:()=>Ae(t),color:"error",children:e.jsx(Ze,{})})})]})]},t.id))})]})})}),e.jsxs(T,{open:Ce,onClose:()=>M(!1),maxWidth:"md",fullWidth:!0,children:[e.jsx(w,{children:"Create New Guest"}),e.jsx(N,{children:e.jsxs(r,{container:!0,spacing:2,sx:{mt:1},children:[e.jsx(r,{item:!0,xs:12,sm:6,children:e.jsx(a,{fullWidth:!0,label:"First Name",value:s.first_name,onChange:t=>l({...s,first_name:t.target.value}),required:!0})}),e.jsx(r,{item:!0,xs:12,sm:6,children:e.jsx(a,{fullWidth:!0,label:"Last Name",value:s.last_name,onChange:t=>l({...s,last_name:t.target.value}),required:!0})}),e.jsx(r,{item:!0,xs:12,sm:6,children:e.jsx(a,{fullWidth:!0,label:"Email",type:"email",value:s.email,onChange:t=>l({...s,email:t.target.value})})}),e.jsx(r,{item:!0,xs:12,sm:6,children:e.jsx(a,{fullWidth:!0,label:"Phone",value:s.phone,onChange:t=>l({...s,phone:t.target.value})})}),e.jsx(r,{item:!0,xs:12,sm:6,children:e.jsx(a,{fullWidth:!0,label:"IC Number / Passport",value:s.ic_number,onChange:t=>l({...s,ic_number:t.target.value}),helperText:"Identity card or passport number"})}),e.jsx(r,{item:!0,xs:12,sm:6,children:e.jsx(a,{fullWidth:!0,label:"Nationality",value:s.nationality,onChange:t=>l({...s,nationality:t.target.value})})}),e.jsx(r,{item:!0,xs:12,children:e.jsx(a,{fullWidth:!0,label:"Address",value:s.address_line1,onChange:t=>l({...s,address_line1:t.target.value})})}),e.jsx(r,{item:!0,xs:12,sm:6,children:e.jsx(a,{fullWidth:!0,label:"City",value:s.city,onChange:t=>l({...s,city:t.target.value})})}),e.jsx(r,{item:!0,xs:12,sm:6,children:e.jsx(a,{fullWidth:!0,label:"State/Province",value:s.state_province,onChange:t=>l({...s,state_province:t.target.value})})}),e.jsx(r,{item:!0,xs:12,sm:6,children:e.jsx(a,{fullWidth:!0,label:"Postal Code",value:s.postal_code,onChange:t=>l({...s,postal_code:t.target.value})})}),e.jsx(r,{item:!0,xs:12,sm:6,children:e.jsx(a,{fullWidth:!0,label:"Country",value:s.country,onChange:t=>l({...s,country:t.target.value})})}),e.jsx(r,{item:!0,xs:12,children:e.jsxs(m,{sx:{p:2,mt:1,bgcolor:s.guest_type==="member"?j(u.member.color,.1):"grey.100",borderRadius:1,border:1,borderColor:s.guest_type==="member"?u.member.color:"divider"},children:[e.jsx(o,{variant:"subtitle2",sx:{mb:2,fontWeight:600},children:"Membership & Pricing"}),e.jsxs(r,{container:!0,spacing:2,children:[e.jsx(r,{item:!0,xs:12,sm:6,children:e.jsxs(a,{select:!0,fullWidth:!0,label:"Guest Type",value:s.guest_type||"non_member",onChange:t=>l({...s,guest_type:t.target.value,discount_percentage:t.target.value==="member"?s.discount_percentage||10:0}),children:[e.jsx(H,{value:"non_member",children:e.jsxs(m,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx($,{sx:{fontSize:18,color:u.non_member.color}}),"Non-Member (Standard Rate)"]})}),e.jsx(H,{value:"member",children:e.jsxs(m,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(V,{sx:{fontSize:18,color:u.member.color}}),"Member (Discounted Rate)"]})})]})}),e.jsx(r,{item:!0,xs:12,sm:6,children:e.jsx(a,{fullWidth:!0,label:"Discount Percentage",type:"number",value:s.discount_percentage||0,onChange:t=>l({...s,discount_percentage:parseInt(t.target.value)||0}),disabled:s.guest_type!=="member",InputProps:{endAdornment:e.jsx(Z,{position:"end",children:"%"})},inputProps:{min:0,max:100},helperText:s.guest_type==="member"?"Discount applied to room rates":"Only available for members"})})]})]})})]})}),e.jsxs(P,{children:[e.jsx(h,{onClick:()=>M(!1),startIcon:e.jsx(he,{}),children:"Cancel"}),e.jsx(h,{onClick:Ee,variant:"contained",startIcon:e.jsx(je,{}),disabled:y,children:y?e.jsx(D,{size:20}):"Create Guest"})]})]}),e.jsxs(T,{open:ve,onClose:()=>z(!1),maxWidth:"md",fullWidth:!0,children:[e.jsxs(w,{children:["Edit Guest: ",W==null?void 0:W.full_name]}),e.jsx(N,{children:e.jsxs(r,{container:!0,spacing:2,sx:{mt:1},children:[e.jsx(r,{item:!0,xs:12,sm:6,children:e.jsx(a,{fullWidth:!0,label:"First Name",value:s.first_name,onChange:t=>l({...s,first_name:t.target.value})})}),e.jsx(r,{item:!0,xs:12,sm:6,children:e.jsx(a,{fullWidth:!0,label:"Last Name",value:s.last_name,onChange:t=>l({...s,last_name:t.target.value})})}),e.jsx(r,{item:!0,xs:12,sm:6,children:e.jsx(a,{fullWidth:!0,label:"Email",type:"email",value:s.email,onChange:t=>l({...s,email:t.target.value})})}),e.jsx(r,{item:!0,xs:12,sm:6,children:e.jsx(a,{fullWidth:!0,label:"Phone",value:s.phone,onChange:t=>l({...s,phone:t.target.value})})}),e.jsx(r,{item:!0,xs:12,sm:6,children:e.jsx(a,{fullWidth:!0,label:"IC Number / Passport",value:s.ic_number,onChange:t=>l({...s,ic_number:t.target.value})})}),e.jsx(r,{item:!0,xs:12,sm:6,children:e.jsx(a,{fullWidth:!0,label:"Nationality",value:s.nationality,onChange:t=>l({...s,nationality:t.target.value})})}),e.jsx(r,{item:!0,xs:12,children:e.jsx(a,{fullWidth:!0,label:"Address",value:s.address_line1,onChange:t=>l({...s,address_line1:t.target.value})})}),e.jsx(r,{item:!0,xs:12,sm:6,children:e.jsx(a,{fullWidth:!0,label:"City",value:s.city,onChange:t=>l({...s,city:t.target.value})})}),e.jsx(r,{item:!0,xs:12,sm:6,children:e.jsx(a,{fullWidth:!0,label:"State/Province",value:s.state_province,onChange:t=>l({...s,state_province:t.target.value})})}),e.jsx(r,{item:!0,xs:12,sm:6,children:e.jsx(a,{fullWidth:!0,label:"Postal Code",value:s.postal_code,onChange:t=>l({...s,postal_code:t.target.value})})}),e.jsx(r,{item:!0,xs:12,sm:6,children:e.jsx(a,{fullWidth:!0,label:"Country",value:s.country,onChange:t=>l({...s,country:t.target.value})})}),e.jsx(r,{item:!0,xs:12,children:e.jsxs(m,{sx:{p:2,mt:1,bgcolor:s.guest_type==="member"?j(u.member.color,.1):"grey.100",borderRadius:1,border:1,borderColor:s.guest_type==="member"?u.member.color:"divider"},children:[e.jsx(o,{variant:"subtitle2",sx:{mb:2,fontWeight:600},children:"Membership & Pricing"}),e.jsxs(r,{container:!0,spacing:2,children:[e.jsx(r,{item:!0,xs:12,sm:6,children:e.jsxs(a,{select:!0,fullWidth:!0,label:"Guest Type",value:s.guest_type||"non_member",onChange:t=>l({...s,guest_type:t.target.value,discount_percentage:t.target.value==="member"?s.discount_percentage||10:0}),children:[e.jsx(H,{value:"non_member",children:e.jsxs(m,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx($,{sx:{fontSize:18,color:u.non_member.color}}),"Non-Member (Standard Rate)"]})}),e.jsx(H,{value:"member",children:e.jsxs(m,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(V,{sx:{fontSize:18,color:u.member.color}}),"Member (Discounted Rate)"]})})]})}),e.jsx(r,{item:!0,xs:12,sm:6,children:e.jsx(a,{fullWidth:!0,label:"Discount Percentage",type:"number",value:s.discount_percentage||0,onChange:t=>l({...s,discount_percentage:parseInt(t.target.value)||0}),disabled:s.guest_type!=="member",InputProps:{endAdornment:e.jsx(Z,{position:"end",children:"%"})},inputProps:{min:0,max:100},helperText:s.guest_type==="member"?"Discount applied to room rates":"Only available for members"})})]})]})})]})}),e.jsxs(P,{children:[e.jsx(h,{onClick:()=>z(!1),startIcon:e.jsx(he,{}),children:"Cancel"}),e.jsx(h,{onClick:Fe,variant:"contained",startIcon:e.jsx(je,{}),disabled:y,children:y?e.jsx(D,{size:20}):"Save Changes"})]})]}),e.jsxs(T,{open:Se,onClose:()=>E(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsx(w,{children:"Delete Guest"}),e.jsxs(N,{children:[e.jsxs(v,{severity:"warning",sx:{mb:2},children:["Are you sure you want to delete guest ",e.jsx("strong",{children:I==null?void 0:I.full_name}),"?"]}),e.jsx(o,{variant:"body2",color:"text.secondary",children:"This action cannot be undone. The guest can only be deleted if they have no existing bookings."})]}),e.jsxs(P,{children:[e.jsx(h,{onClick:()=>E(!1),children:"Cancel"}),e.jsx(h,{onClick:Le,variant:"contained",color:"error",disabled:y,children:y?e.jsx(D,{size:20}):"Delete Guest"})]})]}),e.jsxs(T,{open:We,onClose:()=>J(!1),maxWidth:"md",fullWidth:!0,children:[e.jsxs(w,{children:["Booking History: ",f==null?void 0:f.full_name]}),e.jsx(N,{children:ce.length===0?e.jsx(v,{severity:"info",sx:{mt:2},children:"No bookings found for this guest."}):e.jsx(de,{sx:{mt:2},children:e.jsxs(me,{size:"small",children:[e.jsx(ue,{children:e.jsxs(q,{children:[e.jsx(n,{children:"Booking #"}),e.jsx(n,{children:"Room"}),e.jsx(n,{children:"Check In"}),e.jsx(n,{children:"Check Out"}),e.jsx(n,{children:"Nights"}),e.jsx(n,{children:"Status"}),e.jsx(n,{align:"right",children:"Amount"})]})}),e.jsx(xe,{children:ce.map(t=>e.jsxs(q,{children:[e.jsx(n,{children:t.booking_number}),e.jsxs(n,{children:[t.room_number," (",t.room_type,")"]}),e.jsx(n,{children:new Date(t.check_in_date).toLocaleDateString()}),e.jsx(n,{children:new Date(t.check_out_date).toLocaleDateString()}),e.jsx(n,{children:t.nights}),e.jsx(n,{children:e.jsx(G,{label:t.status,size:"small"})}),e.jsx(n,{align:"right",children:pe(parseFloat(t.total_amount))})]},t.id))})]})})}),e.jsx(P,{children:e.jsx(h,{onClick:()=>J(!1),children:"Close"})})]}),e.jsxs(T,{open:Ie,onClose:()=>K(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(R,{color:"secondary"}),"Free Gift Credits: ",f==null?void 0:f.full_name]}),e.jsx(N,{children:ke?e.jsx(m,{display:"flex",justifyContent:"center",py:3,children:e.jsx(D,{})}):b?e.jsxs(m,{children:[b.credits_by_room_type.length>0&&e.jsxs(m,{mb:3,children:[e.jsx(o,{variant:"subtitle2",color:"text.secondary",mb:1,children:"Credits by Room Type:"}),b.credits_by_room_type.map(t=>e.jsxs(m,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:"success.light",borderRadius:1,px:2,py:1,mb:1},children:[e.jsxs(m,{children:[e.jsx(o,{variant:"body1",fontWeight:600,children:t.room_type_name}),e.jsxs(o,{variant:"caption",color:"text.secondary",children:["Code: ",t.room_type_code]})]}),e.jsx(G,{icon:e.jsx(R,{sx:{fontSize:16}}),label:`${t.nights_available} night${t.nights_available!==1?"s":""}`,color:"success"})]},t.id))]}),e.jsxs(m,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",borderTop:"2px solid",borderColor:"divider",pt:2,mt:2},children:[e.jsx(o,{variant:"h6",fontWeight:600,children:"Total Available:"}),e.jsx(G,{icon:e.jsx(R,{}),label:`${b.total_nights} night${b.total_nights!==1?"s":""}`,color:"secondary",sx:{fontSize:"1rem",py:2}})]}),b.total_nights===0&&e.jsx(v,{severity:"info",sx:{mt:2},children:"This guest has no complimentary credits available."})]}):e.jsx(v,{severity:"info",children:"No credits information available."})}),e.jsx(P,{children:e.jsx(h,{onClick:()=>K(!1),children:"Close"})})]})]})};export{yt as default};
